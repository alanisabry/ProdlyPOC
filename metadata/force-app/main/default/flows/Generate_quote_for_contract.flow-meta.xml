<?xml version="1.0" encoding="UTF-8"?>
<Flow xmlns="http://soap.sforce.com/2006/04/metadata" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
    <apiVersion>55.0</apiVersion>
    <areMetricsLoggedToDataCloud>false</areMetricsLoggedToDataCloud>
    <assignments>
        <name>Add_Indexation_Rates</name>
        <label>Add Indexation Rates</label>
        <locationX>798</locationX>
        <locationY>1298</locationY>
        <assignmentItems>
            <assignToReference>SumofIndexationRates</assignToReference>
            <operator>Add</operator>
            <value>
                <elementReference>Loop_Indexation_Rates.Indexation_Rate__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>LoopCount</assignToReference>
            <operator>Add</operator>
            <value>
                <numberValue>1.0</numberValue>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Loop_Indexation_Rates</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Add_movements</name>
        <label>Add movements</label>
        <locationX>779</locationX>
        <locationY>2498</locationY>
        <assignmentItems>
            <assignToReference>OppIndexationMovements</assignToReference>
            <operator>Add</operator>
            <value>
                <elementReference>Loop_movements.Amount__c</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Loop_movements</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Add_Previous_Indexation_to_ARR</name>
        <label>Add Previous Indexation to ARR</label>
        <locationX>799</locationX>
        <locationY>2774</locationY>
        <assignmentItems>
            <assignToReference>renewalOpp.Applied_Cumulative_Indexation__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Get_Account.Cumulative_Indexation__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>renewalOpp.Indexation_reported_in_previous_contract__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>OppIndexationMovements</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>NewRenewalARR</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>previousIndexationapplied</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Upcoming_Indexation_Waived</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Add_price_uplift_to_ARR</name>
        <label>Add price uplift to ARR</label>
        <locationX>677</locationX>
        <locationY>3674</locationY>
        <assignmentItems>
            <assignToReference>renewalOpp.Price_Uplift_on_Renewal_percentage__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>of_price_uplift_to_be_applied</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>renewalOpp.Price_Uplift_On_Renewal__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Apply_Price_Uplift</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>renewalupliftamount</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>priceupliftamount</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>NewRenewalARR</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>priceupliftapplied</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Check_if_changes_are_made</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Add_Upcoming_Indexation_to_ARR</name>
        <label>Add Upcoming Indexation to ARR</label>
        <locationX>1007</locationX>
        <locationY>3290</locationY>
        <assignmentItems>
            <assignToReference>renewalOpp.Applied_Upcoming_Indexation__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>CurrentIndexationRate</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>upcomingindexationamount</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>upcomingIndexation</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>NewRenewalARR</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>upcomingindexationapplied</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Price_Uplift_applied</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Assign_ARR_as_New_ARR</name>
        <label>Assign ARR as New ARR</label>
        <locationX>1083</locationX>
        <locationY>2174</locationY>
        <assignmentItems>
            <assignToReference>NewRenewalARR</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>originalRenewalARR</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Upcoming_Indexation_Waived</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Assign_Current_Indexation_Rate</name>
        <label>Assign Current Indexation Rate</label>
        <locationX>578</locationX>
        <locationY>1598</locationY>
        <assignmentItems>
            <assignToReference>CurrentIndexationRate</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>renewalOpp.Cap_Indexation_Rate__c</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Input_Screen</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Assign_Current_Indexation_Rate_1</name>
        <label>Assign Current Indexation Rate</label>
        <locationX>842</locationX>
        <locationY>1598</locationY>
        <assignmentItems>
            <assignToReference>CurrentIndexationRate</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>AvgIndexationRate</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Input_Screen</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Assign_Current_Indexation_Rate_2</name>
        <label>Assign Current Indexation Rate</label>
        <locationX>1106</locationX>
        <locationY>974</locationY>
        <assignmentItems>
            <assignToReference>CurrentIndexationRate</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Get_Account.Fixed_Indexation_Rate__c</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Input_Screen</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Assign_OLI_Values</name>
        <label>Assign OLI Values</label>
        <locationX>600</locationX>
        <locationY>4622</locationY>
        <assignmentItems>
            <assignToReference>Loop_products.Default_Price__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>updatedOLIDefaultPrice</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>Loop_products.Sales_Price_ARR__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>updatedOLISalesPriceARR</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>Loop_products.UnitPrice</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>updatedOLISalesPrice</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>Loop_products.Pricing_factors_applied_on_OLI__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <booleanValue>true</booleanValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>updatedRenewalOLIList</assignToReference>
            <operator>Add</operator>
            <value>
                <elementReference>Loop_products</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Loop_products</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Check_pricing_factors_applied</name>
        <label>Check pricing factors applied</label>
        <locationX>512</locationX>
        <locationY>4190</locationY>
        <assignmentItems>
            <assignToReference>renewalOpp.Pricing_factors_applied__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <booleanValue>true</booleanValue>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Update_Renewal_Opp</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Remove_price_uplift_from_ARR</name>
        <label>Remove price uplift from ARR</label>
        <locationX>941</locationX>
        <locationY>3674</locationY>
        <assignmentItems>
            <assignToReference>renewalOpp.Price_Uplift_on_Renewal_percentage__c</assignToReference>
            <operator>Assign</operator>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>renewalOpp.Price_Uplift_On_Renewal__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Apply_Price_Uplift</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Check_if_changes_are_made</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Set_Indexation_as_waived_on_Opp</name>
        <label>Set Indexation as waived on Opp</label>
        <locationX>743</locationX>
        <locationY>3074</locationY>
        <assignmentItems>
            <assignToReference>renewalOpp.Waive_Indexation__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Waive_Indexation</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>renewalOpp.Applied_Upcoming_Indexation__c</assignToReference>
            <operator>Assign</operator>
        </assignmentItems>
        <connector>
            <targetReference>Price_Uplift_applied</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Set_Indexation_waiver_as_No_on_Opp</name>
        <label>Set Indexation waiver as No on Opp</label>
        <locationX>1139</locationX>
        <locationY>3074</locationY>
        <assignmentItems>
            <assignToReference>renewalOpp.Waive_Indexation__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue>No</stringValue>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Upcoming_Indexation_applied</targetReference>
        </connector>
    </assignments>
    <choices>
        <name>ApplyUpcomingIndexation</name>
        <choiceText>Apply Upcoming Indexation</choiceText>
        <dataType>String</dataType>
        <value>
            <stringValue>Apply Upcoming Indexation</stringValue>
        </value>
    </choices>
    <choices>
        <name>No</name>
        <choiceText>No</choiceText>
        <dataType>String</dataType>
        <value>
            <stringValue>false</stringValue>
        </value>
    </choices>
    <choices>
        <name>WaiveIndexation</name>
        <choiceText>Waive Indexation</choiceText>
        <dataType>String</dataType>
        <value>
            <stringValue>Waive Indexation</stringValue>
        </value>
    </choices>
    <choices>
        <name>Yes</name>
        <choiceText>Yes</choiceText>
        <dataType>String</dataType>
        <value>
            <stringValue>true</stringValue>
        </value>
    </choices>
    <decisions>
        <name>Apply_Changes_to_renewal</name>
        <label>Apply Changes to renewal?</label>
        <locationX>710</locationX>
        <locationY>4082</locationY>
        <defaultConnector>
            <targetReference>No_changes_in_pricing_factors</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>Apply</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>Apply_Changes</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Yes</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Check_pricing_factors_applied</targetReference>
            </connector>
            <label>Apply</label>
        </rules>
    </decisions>
    <decisions>
        <description>Check to see if records are availble to calculate the variable indexation rate. If not, the pricing factors can not yet be applied.</description>
        <name>Are_rates_available</name>
        <label>Are rates available?</label>
        <locationX>512</locationX>
        <locationY>1082</locationY>
        <defaultConnector>
            <targetReference>Loop_Indexation_Rates</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>RatesNotAvailable</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>Get_Indexation_Rates</leftValueReference>
                <operator>IsEmpty</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Variable_rate_not_yet_available</targetReference>
            </connector>
            <label>Rates not available</label>
        </rules>
    </decisions>
    <decisions>
        <name>Check_if_cap_indexation_rate_exists</name>
        <label>Check if cap indexation rate exists?</label>
        <locationX>710</locationX>
        <locationY>1490</locationY>
        <defaultConnector>
            <targetReference>Assign_Current_Indexation_Rate_1</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>Cap_exists</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>renewalOpp.Cap_Indexation_Rate__c</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>renewalOpp.Cap_Indexation_Rate__c</leftValueReference>
                <operator>LessThan</operator>
                <rightValue>
                    <elementReference>AvgIndexationRate</elementReference>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Assign_Current_Indexation_Rate</targetReference>
            </connector>
            <label>Cap % exists</label>
        </rules>
    </decisions>
    <decisions>
        <name>Check_if_changes_are_made</name>
        <label>Check if changes are made?</label>
        <locationX>941</locationX>
        <locationY>3866</locationY>
        <defaultConnector>
            <targetReference>Pricing_factors_are_not_changed</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>Pricing_factors_changed</name>
            <conditionLogic>or</conditionLogic>
            <conditions>
                <leftValueReference>Added_Upcoming_Indexation</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>Applied_to_renewal</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>Waived</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>Uplift_applied</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>Uplift_reversed</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>Waive_Indexation</leftValueReference>
                <operator>NotEqualTo</operator>
                <rightValue>
                    <elementReference>renewalOpp.Waive_Indexation__c</elementReference>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Apply_pricing_factors</targetReference>
            </connector>
            <label>Pricing factors changed</label>
        </rules>
    </decisions>
    <decisions>
        <description>Check if the indexation rate is variable or not.</description>
        <name>Check_if_indexation_is_variable</name>
        <label>Check if indexation is variable?</label>
        <locationX>941</locationX>
        <locationY>866</locationY>
        <defaultConnector>
            <targetReference>Input_Screen</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>Variable</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>Get_Account.Indexation__c</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>Get_Account.Indexation_Type__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Variable</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Get_Indexation_Rates</targetReference>
            </connector>
            <label>Variable</label>
        </rules>
        <rules>
            <name>Fixed</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>Get_Account.Indexation__c</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>Get_Account.Indexation_Type__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Fixed</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Assign_Current_Indexation_Rate_2</targetReference>
            </connector>
            <label>Fixed</label>
        </rules>
    </decisions>
    <decisions>
        <name>Check_if_indexation_movements_exist</name>
        <label>Check if indexation movements exist?</label>
        <locationX>799</locationX>
        <locationY>2282</locationY>
        <defaultConnector>
            <targetReference>Add_Previous_Indexation_to_ARR</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>Movements_exist</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>Previous_Contract_Indexation_Movements</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Loop_movements</targetReference>
            </connector>
            <label>Movements exist</label>
        </rules>
    </decisions>
    <decisions>
        <name>Generate_Re_generate_contract</name>
        <label>Generate/Re-generate contract?</label>
        <locationX>941</locationX>
        <locationY>458</locationY>
        <defaultConnector>
            <targetReference>Re_Generate</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Re-Generate</defaultConnectorLabel>
        <rules>
            <name>Generate</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>renewalOpp.Pricing_factors_applied__c</leftValueReference>
                <operator>NotEqualTo</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Initial_Screen</targetReference>
            </connector>
            <label>Generate</label>
        </rules>
    </decisions>
    <decisions>
        <name>Indexation_specified_on_account</name>
        <label>Indexation specified on account?</label>
        <locationX>495</locationX>
        <locationY>350</locationY>
        <defaultConnector>
            <targetReference>Generate_Re_generate_contract</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>Not_filled</name>
            <conditionLogic>(1 OR ((2 OR 3) AND 4)) AND 5</conditionLogic>
            <conditions>
                <leftValueReference>Get_Account.Indexation__c</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>Get_Account.Indexation__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Yes</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>Get_Account.Indexation__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>After Initial Term</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>Get_Account.Indexation_Type__c</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>renewalOpp.Platform__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Bynder</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Indexation_Not_Filled</targetReference>
            </connector>
            <label>Not filled</label>
        </rules>
    </decisions>
    <decisions>
        <name>isAccountChanged</name>
        <label>isAccountChanged</label>
        <locationX>512</locationX>
        <locationY>4922</locationY>
        <defaultConnector>
            <targetReference>Final_Screen_1</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>Changed</name>
            <conditionLogic>or</conditionLogic>
            <conditions>
                <leftValueReference>PriceUpliftOnAccountChanged</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>Applied_to_renewal</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Update_Account</targetReference>
            </connector>
            <label>Changed</label>
        </rules>
    </decisions>
    <decisions>
        <description>Check if previous indexation is added on renewal or not.</description>
        <name>Previous_indexation_added</name>
        <label>Previous indexation added?</label>
        <locationX>941</locationX>
        <locationY>2066</locationY>
        <defaultConnector>
            <targetReference>Assign_ARR_as_New_ARR</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>Applied_to_renewal</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>Get_Account.Cumulative_Indexation__c</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Previous_Contract_Indexation_Movements</targetReference>
            </connector>
            <label>Applied to renewal</label>
        </rules>
    </decisions>
    <decisions>
        <name>Price_Uplift_applied</name>
        <label>Price Uplift applied?</label>
        <locationX>941</locationX>
        <locationY>3566</locationY>
        <defaultConnector>
            <targetReference>Check_if_changes_are_made</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>Uplift_applied</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>Apply_Price_Uplift</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Yes</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Add_price_uplift_to_ARR</targetReference>
            </connector>
            <label>Uplift applied</label>
        </rules>
        <rules>
            <name>Uplift_reversed</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>Apply_Price_Uplift</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>No</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Remove_price_uplift_from_ARR</targetReference>
            </connector>
            <label>Uplift reversed</label>
        </rules>
    </decisions>
    <decisions>
        <description>Check if the upcoming indexation is applied to the renewal or not.</description>
        <name>Upcoming_Indexation_applied</name>
        <label>Upcoming Indexation applied?</label>
        <locationX>1139</locationX>
        <locationY>3182</locationY>
        <defaultConnector>
            <targetReference>Price_Uplift_applied</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>Added_Upcoming_Indexation</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>Get_Account.Indexation__c</leftValueReference>
                <operator>NotEqualTo</operator>
                <rightValue>
                    <stringValue>No</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>CurrentIndexationRate</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Add_Upcoming_Indexation_to_ARR</targetReference>
            </connector>
            <label>Added Upcoming Indexation</label>
        </rules>
    </decisions>
    <decisions>
        <description>Check if the upcoming indexation on the renewal is waived or not.</description>
        <name>Upcoming_Indexation_Waived</name>
        <label>Upcoming Indexation Waived?</label>
        <locationX>941</locationX>
        <locationY>2966</locationY>
        <defaultConnector>
            <targetReference>Set_Indexation_waiver_as_No_on_Opp</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Not Waived</defaultConnectorLabel>
        <rules>
            <name>Waived</name>
            <conditionLogic>or</conditionLogic>
            <conditions>
                <leftValueReference>Waive_Indexation</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Yes</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>Waive_Indexation</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>First Year</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Set_Indexation_as_waived_on_Opp</targetReference>
            </connector>
            <label>Waived</label>
        </rules>
    </decisions>
    <description>BODEV-4540 updated with check if variable indexation rate is available
Changed the decimal values for Price Uplift % field on Input screen to 2</description>
    <dynamicChoiceSets>
        <name>IndexationWaiver</name>
        <dataType>Picklist</dataType>
        <displayField xsi:nil="true"/>
        <object xsi:nil="true"/>
        <picklistField>Waive_Indexation__c</picklistField>
        <picklistObject>Opportunity</picklistObject>
    </dynamicChoiceSets>
    <dynamicChoiceSets>
        <name>PriceUplift</name>
        <dataType>Picklist</dataType>
        <displayField xsi:nil="true"/>
        <object xsi:nil="true"/>
        <picklistField>Price_Uplift_On_Renewal__c</picklistField>
        <picklistObject>Opportunity</picklistObject>
    </dynamicChoiceSets>
    <environments>Default</environments>
    <formulas>
        <name>AvgIndexationRate</name>
        <dataType>Number</dataType>
        <expression>{!SumofIndexationRates}/{!LoopCount}</expression>
        <scale>1</scale>
    </formulas>
    <formulas>
        <name>cumulativeIndexation</name>
        <dataType>Currency</dataType>
        <expression>IF({!Generate},
    {!originalRenewalARR}*{!Get_Account.Cumulative_Indexation__c}/100,
     {!renewalOpp.Cumulative_Indexation_amount__c} 
)</expression>
        <scale>8</scale>
    </formulas>
    <formulas>
        <name>indexationAvgEndDate</name>
        <dataType>Date</dataType>
        <expression>/* For orders before 2023, indexation rate should be average of Jan-Dec rates
From 2023, indexation rate should be average of Aug-Jul rates */
IF(YEAR({!renewalOpp.Startdate_contract__c}) &gt;=2023,
DATE(YEAR({!renewalOpp.Startdate_contract__c})-1,VALUE({!$Label.IndexationAvgEndMonth}),01),
DATE(YEAR({!renewalOpp.Startdate_contract__c})-1,VALUE(&apos;12&apos;),01)
)</expression>
    </formulas>
    <formulas>
        <name>indexationAvgStartDate</name>
        <dataType>Date</dataType>
        <expression>/* For orders before 2023, indexation rate should be average of Jan-Dec rates
From 2023, indexation rate should be average of Aug-Jul rates */
IF(YEAR({!renewalOpp.Startdate_contract__c}) &gt;= 2023,
DATE(YEAR({!renewalOpp.Startdate_contract__c})-2,VALUE({!$Label.IndexationAvgStartMonth}),01),
DATE(YEAR({!renewalOpp.Startdate_contract__c})-1,VALUE(&apos;01&apos;),01)
)</expression>
    </formulas>
    <formulas>
        <description>If the current indexation rate (Fixed/Variable) is more than 2%, the threshold of 2% should be applied to the default price of the product.</description>
        <name>IndexationThreshold</name>
        <dataType>Number</dataType>
        <expression>IF({!CurrentIndexationRate} &gt; 2, 2,{!CurrentIndexationRate})</expression>
        <scale>2</scale>
    </formulas>
    <formulas>
        <name>NewCumulativeOnAccount</name>
        <dataType>Number</dataType>
        <expression>IF({!Applied_to_renewal},null,{!Get_Account.Cumulative_Indexation__c})</expression>
        <scale>2</scale>
    </formulas>
    <formulas>
        <name>NewPriceUpliftOnAccount</name>
        <dataType>String</dataType>
        <expression>IF({!PriceUpliftOnAccountChanged},{!Apply_Price_Uplift},TEXT({!Get_Account.Price_Uplift_On_Renewal__c}))</expression>
    </formulas>
    <formulas>
        <name>NewPriceUpliftPercentageOnAccount</name>
        <dataType>Number</dataType>
        <expression>IF({!PriceUpliftOnAccountChanged},{!of_price_uplift_to_be_applied},{!Get_Account.Price_Uplift_on_Renewal_percentage__c})</expression>
        <scale>2</scale>
    </formulas>
    <formulas>
        <description>Calculate Cumulative indexation to be applied on renewal</description>
        <name>OLICumulativeIndexation</name>
        <dataType>Currency</dataType>
        <expression>IF({!Applied_to_renewal},
     {!OLIOriginalPrice}*{!Get_Account.Cumulative_Indexation__c}/100,
     IF(ISBLANK({!renewalOpp.Applied_Cumulative_Indexation__c}),0,
            {!OLIOriginalPrice}*{!renewalOpp.Applied_Cumulative_Indexation__c}/100
       )
)</expression>
        <scale>8</scale>
    </formulas>
    <formulas>
        <name>OLIIndexationThresholdForDefaultPrice</name>
        <dataType>Currency</dataType>
        <expression>IF({!Added_Upcoming_Indexation},({!OLIOriginalPrice}+{!OLICumulativeIndexation})*{!IndexationThreshold}/100,0)</expression>
        <scale>8</scale>
    </formulas>
    <formulas>
        <name>OLIOriginalPrice</name>
        <dataType>Currency</dataType>
        <expression>{!Loop_products.Initial_Default_Price_ARR_One_off__c}</expression>
        <scale>8</scale>
    </formulas>
    <formulas>
        <name>OLIRenewalUplift</name>
        <dataType>Currency</dataType>
        <expression>IF({!Uplift_applied} ,({!OLIOriginalPrice}+{!OLICumulativeIndexation}+{!OLIUpcomingIndexation})*{!of_price_uplift_to_be_applied}/100,0)</expression>
        <scale>8</scale>
    </formulas>
    <formulas>
        <name>OLIUpcomingIndexation</name>
        <dataType>Currency</dataType>
        <expression>IF({!Added_Upcoming_Indexation},({!OLIOriginalPrice}+{!OLICumulativeIndexation})*{!CurrentIndexationRate}/100,0)</expression>
        <scale>8</scale>
    </formulas>
    <formulas>
        <name>originalRenewalARR</name>
        <dataType>Number</dataType>
        <expression>IF({!Generate},
{!renewalOpp.Initial_Default_Price_ARR__c},
    IF(NOT(ISBLANK({!renewalOpp.Cumulative_Indexation_amount__c})),
        {!renewalOpp.Initial_Default_Price_ARR__c}+{!renewalOpp.Cumulative_Indexation_amount__c},
         {!renewalOpp.Initial_Default_Price_ARR__c}
       )
)</expression>
        <scale>8</scale>
    </formulas>
    <formulas>
        <description>Calculate new ARR only when previous indexation is added on renewal.</description>
        <name>previousIndexationapplied</name>
        <dataType>Number</dataType>
        <expression>{!cumulativeIndexation}+{!originalRenewalARR}</expression>
        <scale>8</scale>
    </formulas>
    <formulas>
        <name>priceupliftamount</name>
        <dataType>Currency</dataType>
        <expression>({!NewRenewalARR}*{!of_price_uplift_to_be_applied}/100)</expression>
        <scale>8</scale>
    </formulas>
    <formulas>
        <name>priceupliftapplied</name>
        <dataType>Number</dataType>
        <expression>({!NewRenewalARR}*{!of_price_uplift_to_be_applied}/100)+{!NewRenewalARR}</expression>
        <scale>8</scale>
    </formulas>
    <formulas>
        <name>PriceUpliftOnAccountChanged</name>
        <dataType>Boolean</dataType>
        <expression>IF(TEXT({!Get_Account.Price_Uplift_On_Renewal__c}) != {!Apply_Price_Uplift} || {!Get_Account.Price_Uplift_on_Renewal_percentage__c} != {!of_price_uplift_to_be_applied},
true,
false
)</expression>
    </formulas>
    <formulas>
        <name>priceupliftreversed</name>
        <dataType>Number</dataType>
        <expression>{!NewRenewalARR}-{!renewalOpp.Renewal_Uplift_amount__c}</expression>
        <scale>8</scale>
    </formulas>
    <formulas>
        <name>ScreenAccountCumulativeIndexation</name>
        <dataType>Number</dataType>
        <expression>IF(NOT(ISBLANK({!Get_Account.Cumulative_Indexation__c})),{!Get_Account.Cumulative_Indexation__c},0)</expression>
        <scale>2</scale>
    </formulas>
    <formulas>
        <name>screenCumulativeIndexation</name>
        <dataType>Number</dataType>
        <expression>IF(NOT(ISBLANK({!renewalOpp.Applied_Cumulative_Indexation__c})),{!renewalOpp.Applied_Cumulative_Indexation__c},0)</expression>
        <scale>2</scale>
    </formulas>
    <formulas>
        <name>ScreenCumulativeIndexationAmount</name>
        <dataType>Number</dataType>
        <expression>{!cumulativeIndexation}</expression>
        <scale>2</scale>
    </formulas>
    <formulas>
        <name>ScreenNewRenewalARR</name>
        <dataType>Currency</dataType>
        <expression>{!NewRenewalARR}</expression>
        <scale>2</scale>
    </formulas>
    <formulas>
        <name>ScreenPriceUplift</name>
        <dataType>Number</dataType>
        <expression>IF(NOT(ISBLANK({!renewalOpp.Price_Uplift_on_Renewal_percentage__c})),{!renewalOpp.Price_Uplift_on_Renewal_percentage__c},0)</expression>
        <scale>2</scale>
    </formulas>
    <formulas>
        <name>ScreenPriceUpliftOnAccount</name>
        <dataType>String</dataType>
        <expression>IF(ISPICKVAL({!Get_Account.Price_Uplift_On_Renewal__c},&apos;Yes&apos;),&apos;Yes&apos;,&apos;No&apos;)</expression>
    </formulas>
    <formulas>
        <name>ScreenPriceUpliftOnOpp</name>
        <dataType>String</dataType>
        <expression>IF(ISPICKVAL({!renewalOpp.Price_Uplift_On_Renewal__c},&apos;Yes&apos;),&apos;Yes&apos;,&apos;No&apos;)</expression>
    </formulas>
    <formulas>
        <name>ScreenRenewalARR</name>
        <dataType>Number</dataType>
        <expression>{!NewRenewalARR}</expression>
        <scale>2</scale>
    </formulas>
    <formulas>
        <name>ScreenRenewalUpliftAmount</name>
        <dataType>Number</dataType>
        <expression>{!priceupliftamount}</expression>
        <scale>2</scale>
    </formulas>
    <formulas>
        <name>ScreenUpcomingIndexation</name>
        <dataType>Number</dataType>
        <expression>IF(NOT(ISBLANK({!renewalOpp.Applied_Upcoming_Indexation__c})),{!renewalOpp.Applied_Upcoming_Indexation__c},0)</expression>
        <scale>2</scale>
    </formulas>
    <formulas>
        <name>ScreenUpcomingIndexationAmount</name>
        <dataType>Number</dataType>
        <expression>{!upcomingIndexation}</expression>
        <scale>2</scale>
    </formulas>
    <formulas>
        <name>ScreenUpliftPercentageAccount</name>
        <dataType>Number</dataType>
        <expression>IF(ISBLANK({!Get_Account.Price_Uplift_on_Renewal_percentage__c}),0,
{!Get_Account.Price_Uplift_on_Renewal_percentage__c}
)</expression>
        <scale>2</scale>
    </formulas>
    <formulas>
        <name>upcomingIndexation</name>
        <dataType>Currency</dataType>
        <expression>{!NewRenewalARR}*({!CurrentIndexationRate}/100)</expression>
        <scale>8</scale>
    </formulas>
    <formulas>
        <description>Calculate the new renewal ARR when upcoming indexation is applied</description>
        <name>upcomingindexationapplied</name>
        <dataType>Number</dataType>
        <expression>({!NewRenewalARR}*{!CurrentIndexationRate}/100)+{!NewRenewalARR}</expression>
        <scale>8</scale>
    </formulas>
    <formulas>
        <name>upcomingIndexationDefaultValue</name>
        <dataType>String</dataType>
        <expression>IF({!Generate},&apos;Yes&apos;,IF(NOT(ISBLANK({!renewalOpp.Applied_Upcoming_Indexation__c})),&apos;Yes&apos;,&apos;No&apos;))</expression>
    </formulas>
    <formulas>
        <name>updatedOLIDefaultPrice</name>
        <dataType>Currency</dataType>
        <expression>{!OLIOriginalPrice}/12+{!OLICumulativeIndexation}/12+{!OLIIndexationThresholdForDefaultPrice}/12</expression>
        <scale>8</scale>
    </formulas>
    <formulas>
        <name>updatedOLISalesPrice</name>
        <dataType>Currency</dataType>
        <expression>{!updatedOLISalesPriceARR}/12</expression>
        <scale>8</scale>
    </formulas>
    <formulas>
        <name>updatedOLISalesPriceARR</name>
        <dataType>Currency</dataType>
        <expression>{!OLIOriginalPrice}+{!OLICumulativeIndexation}+{!OLIUpcomingIndexation}+{!OLIRenewalUplift}</expression>
        <scale>8</scale>
    </formulas>
    <interviewLabel>Generate quote for contract {!$Flow.CurrentDateTime}</interviewLabel>
    <label>Generate quote for contract</label>
    <loops>
        <name>Loop_Indexation_Rates</name>
        <label>Loop Indexation Rates</label>
        <locationX>710</locationX>
        <locationY>1190</locationY>
        <collectionReference>Get_Indexation_Rates</collectionReference>
        <iterationOrder>Asc</iterationOrder>
        <nextValueConnector>
            <targetReference>Add_Indexation_Rates</targetReference>
        </nextValueConnector>
        <noMoreValuesConnector>
            <targetReference>Check_if_cap_indexation_rate_exists</targetReference>
        </noMoreValuesConnector>
    </loops>
    <loops>
        <name>Loop_movements</name>
        <label>Loop movements</label>
        <locationX>691</locationX>
        <locationY>2390</locationY>
        <collectionReference>Previous_Contract_Indexation_Movements</collectionReference>
        <iterationOrder>Asc</iterationOrder>
        <nextValueConnector>
            <targetReference>Add_movements</targetReference>
        </nextValueConnector>
        <noMoreValuesConnector>
            <targetReference>Add_Previous_Indexation_to_ARR</targetReference>
        </noMoreValuesConnector>
    </loops>
    <loops>
        <name>Loop_products</name>
        <label>Loop products</label>
        <locationX>512</locationX>
        <locationY>4514</locationY>
        <collectionReference>renewalOppProducts</collectionReference>
        <iterationOrder>Asc</iterationOrder>
        <nextValueConnector>
            <targetReference>Assign_OLI_Values</targetReference>
        </nextValueConnector>
        <noMoreValuesConnector>
            <targetReference>Update_Renewal_OLI</targetReference>
        </noMoreValuesConnector>
    </loops>
    <processMetadataValues>
        <name>BuilderType</name>
        <value>
            <stringValue>LightningFlowBuilder</stringValue>
        </value>
    </processMetadataValues>
    <processMetadataValues>
        <name>CanvasMode</name>
        <value>
            <stringValue>AUTO_LAYOUT_CANVAS</stringValue>
        </value>
    </processMetadataValues>
    <processMetadataValues>
        <name>OriginBuilderType</name>
        <value>
            <stringValue>LightningFlowBuilder</stringValue>
        </value>
    </processMetadataValues>
    <processType>Flow</processType>
    <recordLookups>
        <name>Get_Account</name>
        <label>Get Account</label>
        <locationX>495</locationX>
        <locationY>242</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Indexation_specified_on_account</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Id</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>renewalOpp.AccountId</elementReference>
            </value>
        </filters>
        <getFirstRecordOnly>true</getFirstRecordOnly>
        <object>Account</object>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordLookups>
    <recordLookups>
        <name>Get_Indexation_Rates</name>
        <label>Get Indexation Rates</label>
        <locationX>512</locationX>
        <locationY>974</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Are_rates_available</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Subsidiary__c</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>renewalOpp.Account.Subsidiary_lookup__r.Id</elementReference>
            </value>
        </filters>
        <filters>
            <field>Indexation_First_Date__c</field>
            <operator>GreaterThanOrEqualTo</operator>
            <value>
                <elementReference>indexationAvgStartDate</elementReference>
            </value>
        </filters>
        <filters>
            <field>Indexation_First_Date__c</field>
            <operator>LessThanOrEqualTo</operator>
            <value>
                <elementReference>indexationAvgEndDate</elementReference>
            </value>
        </filters>
        <filters>
            <field>Indexation_Rate__c</field>
            <operator>IsNull</operator>
            <value>
                <booleanValue>false</booleanValue>
            </value>
        </filters>
        <filters>
            <field>Indexation_Rate__c</field>
            <operator>NotEqualTo</operator>
            <value>
                <numberValue>0.0</numberValue>
            </value>
        </filters>
        <getFirstRecordOnly>false</getFirstRecordOnly>
        <object>Indexation_Rate__c</object>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordLookups>
    <recordLookups>
        <name>Get_Opp_Products</name>
        <label>Get Opp Products</label>
        <locationX>512</locationX>
        <locationY>4406</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Loop_products</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>OpportunityId</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>renewalOpp.Id</elementReference>
            </value>
        </filters>
        <filters>
            <field>For_Renewal__c</field>
            <operator>EqualTo</operator>
            <value>
                <booleanValue>true</booleanValue>
            </value>
        </filters>
        <object>OpportunityLineItem</object>
        <outputReference>renewalOppProducts</outputReference>
        <queriedFields>Id</queriedFields>
        <queriedFields>Default_Price__c</queriedFields>
        <queriedFields>UnitPrice</queriedFields>
        <queriedFields>Sales_Price_ARR__c</queriedFields>
        <queriedFields>Default_Price_ARR__c</queriedFields>
        <queriedFields>Original_Price_ARR_OneOff__c</queriedFields>
        <queriedFields>Renewal_Uplift_amount__c</queriedFields>
        <queriedFields>Upcoming_Indexation_amount__c</queriedFields>
        <queriedFields>Cumulative_Indexation_amount__c</queriedFields>
        <queriedFields>Quantity</queriedFields>
        <queriedFields>Initial_Default_Price_ARR_One_off__c</queriedFields>
        <queriedFields>Total_Initial_Default_Price_ARR_One_off__c</queriedFields>
        <queriedFields>Pricing_factors_applied_on_OLI__c</queriedFields>
    </recordLookups>
    <recordLookups>
        <name>Get_Opportunity</name>
        <label>Get Opportunity</label>
        <locationX>495</locationX>
        <locationY>134</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Get_Account</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Id</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>recordId</elementReference>
            </value>
        </filters>
        <object>Opportunity</object>
        <outputReference>renewalOpp</outputReference>
        <queriedFields>Id</queriedFields>
        <queriedFields>ARR__c</queriedFields>
        <queriedFields>Price_Uplift_On_Renewal__c</queriedFields>
        <queriedFields>Price_Uplift_on_Renewal_percentage__c</queriedFields>
        <queriedFields>Waive_Indexation__c</queriedFields>
        <queriedFields>Pricing_factors_applied__c</queriedFields>
        <queriedFields>Original_Renewal_ARR__c</queriedFields>
        <queriedFields>Applied_Cumulative_Indexation__c</queriedFields>
        <queriedFields>Applied_Upcoming_Indexation__c</queriedFields>
        <queriedFields>Default_Price_ARR__c</queriedFields>
        <queriedFields>Total_Sales_Price__c</queriedFields>
        <queriedFields>Previous_Contract__c</queriedFields>
        <queriedFields>Indexation_reported_in_previous_contract__c</queriedFields>
        <queriedFields>AccountId</queriedFields>
        <queriedFields>Name</queriedFields>
        <queriedFields>Startdate_contract__c</queriedFields>
        <queriedFields>End_date_contract__c</queriedFields>
        <queriedFields>Cap_Indexation_Rate__c</queriedFields>
        <queriedFields>Upcoming_Indexation_amount__c</queriedFields>
        <queriedFields>Cumulative_Indexation_amount__c</queriedFields>
        <queriedFields>Renewal_Uplift_amount__c</queriedFields>
        <queriedFields>CurrencyIsoCode</queriedFields>
        <queriedFields>Platform__c</queriedFields>
        <queriedFields>Initial_Default_Price_ARR__c</queriedFields>
    </recordLookups>
    <recordLookups>
        <name>Previous_Contract_Indexation_Movements</name>
        <label>Previous Contract Indexation Movements</label>
        <locationX>799</locationX>
        <locationY>2174</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Check_if_indexation_movements_exist</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Opportunity__c</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>renewalOpp.Previous_Contract__c</elementReference>
            </value>
        </filters>
        <filters>
            <field>Movement_Type__c</field>
            <operator>EqualTo</operator>
            <value>
                <stringValue>Indexation</stringValue>
            </value>
        </filters>
        <filters>
            <field>Status__c</field>
            <operator>EqualTo</operator>
            <value>
                <stringValue>Active</stringValue>
            </value>
        </filters>
        <filters>
            <field>Order__c</field>
            <operator>IsNull</operator>
            <value>
                <booleanValue>false</booleanValue>
            </value>
        </filters>
        <getFirstRecordOnly>false</getFirstRecordOnly>
        <object>Opportunity_ARR_Movement__c</object>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordLookups>
    <recordUpdates>
        <name>Update_Account</name>
        <label>Update Account</label>
        <locationX>380</locationX>
        <locationY>5030</locationY>
        <connector>
            <targetReference>Final_Screen</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Id</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>Get_Account.Id</elementReference>
            </value>
        </filters>
        <inputAssignments>
            <field>Cumulative_Indexation__c</field>
            <value>
                <elementReference>NewCumulativeOnAccount</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Price_Uplift_On_Renewal__c</field>
            <value>
                <elementReference>NewPriceUpliftOnAccount</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Price_Uplift_on_Renewal_percentage__c</field>
            <value>
                <elementReference>NewPriceUpliftPercentageOnAccount</elementReference>
            </value>
        </inputAssignments>
        <object>Account</object>
    </recordUpdates>
    <recordUpdates>
        <name>Update_Renewal_OLI</name>
        <label>Update Renewal OLI</label>
        <locationX>512</locationX>
        <locationY>4814</locationY>
        <connector>
            <targetReference>isAccountChanged</targetReference>
        </connector>
        <inputReference>updatedRenewalOLIList</inputReference>
    </recordUpdates>
    <recordUpdates>
        <name>Update_Renewal_Opp</name>
        <label>Update Renewal Opp</label>
        <locationX>512</locationX>
        <locationY>4298</locationY>
        <connector>
            <targetReference>Get_Opp_Products</targetReference>
        </connector>
        <inputReference>renewalOpp</inputReference>
    </recordUpdates>
    <runInMode>SystemModeWithSharing</runInMode>
    <screens>
        <name>Apply_pricing_factors</name>
        <label>Apply pricing factors</label>
        <locationX>710</locationX>
        <locationY>3974</locationY>
        <allowBack>true</allowBack>
        <allowFinish>true</allowFinish>
        <allowPause>true</allowPause>
        <connector>
            <targetReference>Apply_Changes_to_renewal</targetReference>
        </connector>
        <fields>
            <name>Confirm_Screen</name>
            <fieldText>&lt;p&gt;&lt;span style=&quot;font-size: 13px;&quot;&gt;The new renewal ARR will be &lt;/span&gt;&lt;strong style=&quot;font-size: 13px;&quot;&gt;{!renewalOpp.CurrencyIsoCode} {!ScreenRenewalARR}&lt;/strong&gt;&lt;span style=&quot;font-size: 13px;&quot;&gt;.&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;&lt;strong style=&quot;font-size: 13px;&quot;&gt;&lt;em&gt;Pricing factors to be applied :&lt;/em&gt;&lt;/strong&gt;&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;Original Renewal ARR : &lt;strong&gt;{!renewalOpp.CurrencyIsoCode} {!renewalOpp.Initial_Default_Price_ARR__c}&lt;/strong&gt;&lt;/p&gt;</fieldText>
            <fieldType>DisplayText</fieldType>
        </fields>
        <fields>
            <name>cumulative</name>
            <fieldText>&lt;p&gt;Cumulative Indexation  {!Get_Account.Cumulative_Indexation__c}% : &lt;strong&gt;{!renewalOpp.CurrencyIsoCode} {!ScreenCumulativeIndexationAmount}&lt;/strong&gt;&lt;/p&gt;</fieldText>
            <fieldType>DisplayText</fieldType>
            <visibilityRule>
                <conditionLogic>and</conditionLogic>
                <conditions>
                    <leftValueReference>Get_Account.Cumulative_Indexation__c</leftValueReference>
                    <operator>IsNull</operator>
                    <rightValue>
                        <booleanValue>false</booleanValue>
                    </rightValue>
                </conditions>
            </visibilityRule>
        </fields>
        <fields>
            <name>reapplyIndexation</name>
            <fieldText>&lt;p&gt;Cumulative Indexation {!renewalOpp.Applied_Cumulative_Indexation__c}% : &lt;strong&gt;{!renewalOpp.CurrencyIsoCode} {!ScreenCumulativeIndexationAmount}&lt;/strong&gt;&lt;/p&gt;</fieldText>
            <fieldType>DisplayText</fieldType>
            <visibilityRule>
                <conditionLogic>and</conditionLogic>
                <conditions>
                    <leftValueReference>renewalOpp.Pricing_factors_applied__c</leftValueReference>
                    <operator>EqualTo</operator>
                    <rightValue>
                        <booleanValue>true</booleanValue>
                    </rightValue>
                </conditions>
            </visibilityRule>
        </fields>
        <fields>
            <name>Waive</name>
            <fieldText>&lt;p&gt;Waive Indexation? : &lt;strong&gt;{!Waive_Indexation}&lt;/strong&gt;&lt;/p&gt;</fieldText>
            <fieldType>DisplayText</fieldType>
            <visibilityRule>
                <conditionLogic>and</conditionLogic>
                <conditions>
                    <leftValueReference>Waive_Indexation</leftValueReference>
                    <operator>EqualTo</operator>
                    <rightValue>
                        <stringValue>Yes</stringValue>
                    </rightValue>
                </conditions>
            </visibilityRule>
        </fields>
        <fields>
            <name>Upcoming</name>
            <fieldText>&lt;p&gt;Upcoming Indexation {!CurrentIndexationRate}% : &lt;strong&gt;{!renewalOpp.CurrencyIsoCode} {!upcomingindexationamount}&lt;/strong&gt;&lt;/p&gt;</fieldText>
            <fieldType>DisplayText</fieldType>
            <visibilityRule>
                <conditionLogic>and</conditionLogic>
                <conditions>
                    <leftValueReference>Waive_Indexation</leftValueReference>
                    <operator>EqualTo</operator>
                    <rightValue>
                        <stringValue>No</stringValue>
                    </rightValue>
                </conditions>
                <conditions>
                    <leftValueReference>CurrentIndexationRate</leftValueReference>
                    <operator>IsNull</operator>
                    <rightValue>
                        <booleanValue>false</booleanValue>
                    </rightValue>
                </conditions>
            </visibilityRule>
        </fields>
        <fields>
            <name>renewaluplift</name>
            <fieldText>&lt;p&gt;Renewal Uplift {!of_price_uplift_to_be_applied}% : &lt;strong&gt;{!renewalOpp.CurrencyIsoCode} {!renewalupliftamount}&lt;/strong&gt;&lt;/p&gt;</fieldText>
            <fieldType>DisplayText</fieldType>
            <visibilityRule>
                <conditionLogic>and</conditionLogic>
                <conditions>
                    <leftValueReference>Apply_Price_Uplift</leftValueReference>
                    <operator>EqualTo</operator>
                    <rightValue>
                        <stringValue>Yes</stringValue>
                    </rightValue>
                </conditions>
            </visibilityRule>
        </fields>
        <fields>
            <name>caution</name>
            <fieldText>&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;Do you want to apply the specified scenario to the Opportunity and Products?&lt;/p&gt;&lt;ul&gt;&lt;li&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255);&quot;&gt; You can still change the price from the above price through negotiation.&lt;/span&gt;&lt;/li&gt;&lt;li&gt;Product prices changed manually before the simulation will not be considered while calculating the new Renewal ARR.&lt;/li&gt;&lt;/ul&gt;</fieldText>
            <fieldType>DisplayText</fieldType>
        </fields>
        <fields>
            <name>Apply_Changes</name>
            <choiceReferences>PriceUplift</choiceReferences>
            <dataType>String</dataType>
            <fieldText>Apply Changes?</fieldText>
            <fieldType>DropdownBox</fieldType>
            <inputsOnNextNavToAssocScrn>UseStoredValues</inputsOnNextNavToAssocScrn>
            <isRequired>true</isRequired>
        </fields>
        <nextOrFinishButtonLabel>Confirm</nextOrFinishButtonLabel>
        <showFooter>true</showFooter>
        <showHeader>true</showHeader>
    </screens>
    <screens>
        <name>Final_Screen</name>
        <label>Final Screen</label>
        <locationX>380</locationX>
        <locationY>5138</locationY>
        <allowBack>false</allowBack>
        <allowFinish>true</allowFinish>
        <allowPause>true</allowPause>
        <fields>
            <name>ConfirmationScreen</name>
            <fieldText>&lt;p&gt;&lt;strong style=&quot;color: rgb(42, 127, 86);&quot;&gt;Pricing factors are applied to renewal opportunity successfully.&lt;/strong&gt;&lt;/p&gt;</fieldText>
            <fieldType>DisplayText</fieldType>
        </fields>
        <showFooter>true</showFooter>
        <showHeader>true</showHeader>
    </screens>
    <screens>
        <name>Final_Screen_1</name>
        <label>Final Screen</label>
        <locationX>644</locationX>
        <locationY>5030</locationY>
        <allowBack>false</allowBack>
        <allowFinish>true</allowFinish>
        <allowPause>true</allowPause>
        <fields>
            <name>ConfirmationScreen_1</name>
            <fieldText>&lt;p&gt;&lt;strong style=&quot;color: rgb(42, 127, 86);&quot;&gt;Pricing factors are applied to renewal opportunity successfully.&lt;/strong&gt;&lt;/p&gt;</fieldText>
            <fieldType>DisplayText</fieldType>
        </fields>
        <showFooter>true</showFooter>
        <showHeader>true</showHeader>
    </screens>
    <screens>
        <name>Indexation_Not_Filled</name>
        <label>Indexation Not Filled</label>
        <locationX>50</locationX>
        <locationY>458</locationY>
        <allowBack>true</allowBack>
        <allowFinish>true</allowFinish>
        <allowPause>true</allowPause>
        <fields>
            <name>notfillederror</name>
            <fieldText>&lt;p&gt;&lt;strong style=&quot;color: rgb(255, 0, 0);&quot;&gt;Indexation information is not filled on the account, please contact the legal team.&lt;/strong&gt;&lt;/p&gt;&lt;p&gt;&lt;strong style=&quot;color: rgb(255, 0, 0);&quot;&gt;Once the information is filled, retry the process to apply the pricing factors.&lt;/strong&gt;&lt;/p&gt;</fieldText>
            <fieldType>DisplayText</fieldType>
        </fields>
        <showFooter>true</showFooter>
        <showHeader>true</showHeader>
    </screens>
    <screens>
        <name>Initial_Screen</name>
        <label>Initial Screen</label>
        <locationX>941</locationX>
        <locationY>758</locationY>
        <allowBack>true</allowBack>
        <allowFinish>true</allowFinish>
        <allowPause>true</allowPause>
        <connector>
            <targetReference>Check_if_indexation_is_variable</targetReference>
        </connector>
        <fields>
            <name>OpportunityInfo</name>
            <fieldText>&lt;p&gt;&lt;strong style=&quot;color: rgb(50, 45, 137);&quot;&gt;Opportunity Information:&lt;/strong&gt;&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;&lt;strong&gt;Opportunity Name : &lt;/strong&gt;{!renewalOpp.Name}&lt;/p&gt;&lt;p&gt;&lt;strong&gt;Opportunity ARR : &lt;/strong&gt;{!renewalOpp.CurrencyIsoCode} {!renewalOpp.ARR__c}&lt;/p&gt;&lt;p&gt;&lt;strong&gt;Price Uplift on renewal? : &lt;/strong&gt;{!ScreenPriceUpliftOnOpp}&lt;/p&gt;&lt;p&gt;&lt;strong&gt;Price Uplift on Renewal % :  &lt;/strong&gt;{!ScreenPriceUplift}%&lt;/p&gt;&lt;p&gt;&lt;strong&gt;Indexation waived on renewal ? : &lt;/strong&gt;{!renewalOpp.Waive_Indexation__c}&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;&lt;strong style=&quot;color: rgb(50, 45, 137);&quot;&gt;Account Information:&lt;/strong&gt;&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;&lt;strong&gt;Indexation : &lt;/strong&gt;{!Get_Account.Indexation__c}&lt;/p&gt;&lt;p&gt;&lt;strong&gt;Indexation Type : &lt;/strong&gt;{!Get_Account.Indexation_Type__c}&lt;/p&gt;&lt;p&gt;&lt;strong style=&quot;color: rgb(68, 68, 68); background-color: rgb(255, 255, 255);&quot;&gt;Cumulative Indexation on account : &lt;/strong&gt;&lt;span style=&quot;color: rgb(68, 68, 68); background-color: rgb(255, 255, 255);&quot;&gt;{!ScreenAccountCumulativeIndexation}%&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;strong style=&quot;color: rgb(68, 68, 68); background-color: rgb(255, 255, 255);&quot;&gt;Price Uplift On Renewal? :  &lt;/strong&gt;&lt;span style=&quot;color: rgb(68, 68, 68); background-color: rgb(255, 255, 255);&quot;&gt;{!ScreenPriceUpliftOnAccount}&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;strong style=&quot;color: rgb(68, 68, 68); background-color: rgb(255, 255, 255);&quot;&gt;Price Uplift on Renewal % :  &lt;/strong&gt;&lt;span style=&quot;color: rgb(68, 68, 68); background-color: rgb(255, 255, 255);&quot;&gt;{!ScreenUpliftPercentageAccount}%&lt;/span&gt;&lt;/p&gt;</fieldText>
            <fieldType>DisplayText</fieldType>
        </fields>
        <nextOrFinishButtonLabel>Next</nextOrFinishButtonLabel>
        <showFooter>true</showFooter>
        <showHeader>true</showHeader>
    </screens>
    <screens>
        <name>Input_Screen</name>
        <label>Input Screen</label>
        <locationX>941</locationX>
        <locationY>1958</locationY>
        <allowBack>true</allowBack>
        <allowFinish>true</allowFinish>
        <allowPause>true</allowPause>
        <connector>
            <targetReference>Previous_indexation_added</targetReference>
        </connector>
        <fields>
            <name>of_AddIndexationText</name>
            <fieldText>&lt;p&gt;&lt;strong style=&quot;font-size: 13px;&quot;&gt;Cumulative indexation rate ({!Get_Account.Cumulative_Indexation__c}%) will be applied to product pricing.&lt;/strong&gt;&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;</fieldText>
            <fieldType>DisplayText</fieldType>
            <visibilityRule>
                <conditionLogic>and</conditionLogic>
                <conditions>
                    <leftValueReference>Get_Account.Cumulative_Indexation__c</leftValueReference>
                    <operator>IsNull</operator>
                    <rightValue>
                        <booleanValue>false</booleanValue>
                    </rightValue>
                </conditions>
            </visibilityRule>
        </fields>
        <fields>
            <name>WaiveIndexationText</name>
            <fieldText>&lt;p&gt;&lt;strong style=&quot;background-color: rgb(255, 255, 255);&quot;&gt;Apply upcoming indexation rate ({!CurrentIndexationRate}%) to product pricing? Or waive?&lt;/strong&gt;&lt;/p&gt;</fieldText>
            <fieldType>DisplayText</fieldType>
            <visibilityRule>
                <conditionLogic>and</conditionLogic>
                <conditions>
                    <leftValueReference>Get_Account.Indexation__c</leftValueReference>
                    <operator>NotEqualTo</operator>
                    <rightValue>
                        <stringValue>No</stringValue>
                    </rightValue>
                </conditions>
                <conditions>
                    <leftValueReference>CurrentIndexationRate</leftValueReference>
                    <operator>IsNull</operator>
                    <rightValue>
                        <booleanValue>false</booleanValue>
                    </rightValue>
                </conditions>
                <conditions>
                    <leftValueReference>Get_Account.Indexation__c</leftValueReference>
                    <operator>IsNull</operator>
                    <rightValue>
                        <booleanValue>false</booleanValue>
                    </rightValue>
                </conditions>
            </visibilityRule>
        </fields>
        <fields>
            <name>indexationwaived</name>
            <fieldText>&lt;p&gt;&lt;strong&gt;Indexation is waived on the renewal, would you like to change the decision?&lt;/strong&gt;&lt;/p&gt;</fieldText>
            <fieldType>DisplayText</fieldType>
            <visibilityRule>
                <conditionLogic>and</conditionLogic>
                <conditions>
                    <leftValueReference>renewalOpp.Waive_Indexation__c</leftValueReference>
                    <operator>EqualTo</operator>
                    <rightValue>
                        <stringValue>Yes</stringValue>
                    </rightValue>
                </conditions>
            </visibilityRule>
        </fields>
        <fields>
            <name>Waive_Indexation</name>
            <choiceReferences>IndexationWaiver</choiceReferences>
            <dataType>String</dataType>
            <defaultValue>
                <elementReference>renewalOpp.Waive_Indexation__c</elementReference>
            </defaultValue>
            <fieldText>Waive Indexation?</fieldText>
            <fieldType>DropdownBox</fieldType>
            <helpText>&lt;p&gt;When &apos;Yes&apos; is selected, indexation is waived for the entire renewal contract period.&lt;/p&gt;&lt;p&gt;When &apos;No&apos; is selected, indexation is charged in each year of the renewal contract.&lt;/p&gt;&lt;p&gt;When &apos;First Year&apos; is selected, indexation is waived for first year of the renewal.&lt;/p&gt;</helpText>
            <inputsOnNextNavToAssocScrn>UseStoredValues</inputsOnNextNavToAssocScrn>
            <isRequired>true</isRequired>
            <visibilityRule>
                <conditionLogic>(1 OR 2) AND 3</conditionLogic>
                <conditions>
                    <leftValueReference>Get_Account.Indexation__c</leftValueReference>
                    <operator>EqualTo</operator>
                    <rightValue>
                        <stringValue>Yes</stringValue>
                    </rightValue>
                </conditions>
                <conditions>
                    <leftValueReference>Get_Account.Indexation__c</leftValueReference>
                    <operator>EqualTo</operator>
                    <rightValue>
                        <stringValue>After Initial Term</stringValue>
                    </rightValue>
                </conditions>
                <conditions>
                    <leftValueReference>CurrentIndexationRate</leftValueReference>
                    <operator>IsNull</operator>
                    <rightValue>
                        <booleanValue>false</booleanValue>
                    </rightValue>
                </conditions>
            </visibilityRule>
        </fields>
        <fields>
            <name>renewalupliftapplied</name>
            <fieldText>&lt;p&gt;&lt;strong&gt;Renewal uplift is already applied, would you like to change the decision?&lt;/strong&gt;&lt;/p&gt;</fieldText>
            <fieldType>DisplayText</fieldType>
            <visibilityRule>
                <conditionLogic>and</conditionLogic>
                <conditions>
                    <leftValueReference>renewalOpp.Price_Uplift_On_Renewal__c</leftValueReference>
                    <operator>EqualTo</operator>
                    <rightValue>
                        <stringValue>Yes</stringValue>
                    </rightValue>
                </conditions>
            </visibilityRule>
        </fields>
        <fields>
            <name>of_priceupliftText</name>
            <fieldText>&lt;p&gt;&lt;strong&gt;Renewal uplift is not applied, would you like to apply? If yes, how much %?&lt;/strong&gt;&lt;/p&gt;</fieldText>
            <fieldType>DisplayText</fieldType>
            <visibilityRule>
                <conditionLogic>and</conditionLogic>
                <conditions>
                    <leftValueReference>renewalOpp.Price_Uplift_On_Renewal__c</leftValueReference>
                    <operator>NotEqualTo</operator>
                    <rightValue>
                        <stringValue>Yes</stringValue>
                    </rightValue>
                </conditions>
                <conditions>
                    <leftValueReference>Get_Account.Price_Uplift_On_Renewal__c</leftValueReference>
                    <operator>EqualTo</operator>
                    <rightValue>
                        <stringValue>Yes</stringValue>
                    </rightValue>
                </conditions>
            </visibilityRule>
        </fields>
        <fields>
            <name>NoPriceUplift</name>
            <fieldText>&lt;p&gt;&lt;strong&gt;Customer is not subjected to price uplift , would you like to change the decision?&lt;/strong&gt;&lt;/p&gt;</fieldText>
            <fieldType>DisplayText</fieldType>
            <visibilityRule>
                <conditionLogic>and</conditionLogic>
                <conditions>
                    <leftValueReference>Get_Account.Price_Uplift_On_Renewal__c</leftValueReference>
                    <operator>EqualTo</operator>
                    <rightValue>
                        <stringValue>No</stringValue>
                    </rightValue>
                </conditions>
            </visibilityRule>
        </fields>
        <fields>
            <name>NoDecisionOnPriceUplift</name>
            <fieldText>&lt;p&gt;&lt;strong&gt;Renewal uplift decision is not specified yet on the account, would like to apply or not?&lt;/strong&gt;&lt;/p&gt;</fieldText>
            <fieldType>DisplayText</fieldType>
            <visibilityRule>
                <conditionLogic>and</conditionLogic>
                <conditions>
                    <leftValueReference>Get_Account.Price_Uplift_On_Renewal__c</leftValueReference>
                    <operator>IsNull</operator>
                    <rightValue>
                        <booleanValue>true</booleanValue>
                    </rightValue>
                </conditions>
            </visibilityRule>
        </fields>
        <fields>
            <name>Apply_Price_Uplift</name>
            <choiceReferences>PriceUplift</choiceReferences>
            <dataType>String</dataType>
            <defaultValue>
                <elementReference>Get_Account.Price_Uplift_On_Renewal__c</elementReference>
            </defaultValue>
            <fieldText>Apply Price Uplift?</fieldText>
            <fieldType>DropdownBox</fieldType>
            <helpText>&lt;p&gt;Price uplift decision applied in this screen will be synced to the account and opportunity.&lt;/p&gt;</helpText>
            <inputsOnNextNavToAssocScrn>UseStoredValues</inputsOnNextNavToAssocScrn>
            <isRequired>true</isRequired>
        </fields>
        <fields>
            <name>of_price_uplift_to_be_applied</name>
            <dataType>Number</dataType>
            <defaultValue>
                <elementReference>Get_Account.Price_Uplift_on_Renewal_percentage__c</elementReference>
            </defaultValue>
            <fieldText>% of price uplift to be applied?</fieldText>
            <fieldType>InputField</fieldType>
            <helpText>&lt;p&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); color: rgb(68, 68, 68);&quot;&gt;Price uplift % applied in this screen will be synced to the account and opportunity.&lt;/span&gt;&lt;/p&gt;</helpText>
            <inputsOnNextNavToAssocScrn>UseStoredValues</inputsOnNextNavToAssocScrn>
            <isRequired>true</isRequired>
            <scale>2</scale>
            <visibilityRule>
                <conditionLogic>and</conditionLogic>
                <conditions>
                    <leftValueReference>Apply_Price_Uplift</leftValueReference>
                    <operator>EqualTo</operator>
                    <rightValue>
                        <stringValue>Yes</stringValue>
                    </rightValue>
                </conditions>
            </visibilityRule>
        </fields>
        <nextOrFinishButtonLabel>Simulate New ARR</nextOrFinishButtonLabel>
        <showFooter>true</showFooter>
        <showHeader>true</showHeader>
    </screens>
    <screens>
        <name>No_changes_in_pricing_factors</name>
        <label>No changes in pricing factors</label>
        <locationX>908</locationX>
        <locationY>4190</locationY>
        <allowBack>true</allowBack>
        <allowFinish>true</allowFinish>
        <allowPause>true</allowPause>
        <fields>
            <name>Nochangesinsimulation</name>
            <fieldText>&lt;p&gt;&lt;strong style=&quot;color: rgb(75, 33, 231);&quot;&gt;Pricing factors are not applied to renewal opportunity. Click &apos;Finish&apos; to complete the process.&lt;/strong&gt;&lt;/p&gt;</fieldText>
            <fieldType>DisplayText</fieldType>
        </fields>
        <showFooter>true</showFooter>
        <showHeader>true</showHeader>
    </screens>
    <screens>
        <name>Pricing_factors_are_not_changed</name>
        <label>Pricing factors are not changed</label>
        <locationX>1172</locationX>
        <locationY>3974</locationY>
        <allowBack>true</allowBack>
        <allowFinish>true</allowFinish>
        <allowPause>true</allowPause>
        <fields>
            <name>NoChanges</name>
            <fieldText>&lt;p&gt;&lt;strong style=&quot;color: rgb(40, 57, 208);&quot;&gt;&lt;span class=&quot;ql-cursor&quot;&gt;﻿&lt;/span&gt;Pricing factors are not changed during the process to generate the new renewal ARR.&lt;/strong&gt;&lt;/p&gt;</fieldText>
            <fieldType>DisplayText</fieldType>
        </fields>
        <showFooter>true</showFooter>
        <showHeader>true</showHeader>
    </screens>
    <screens>
        <name>Re_Generate</name>
        <label>Re-Generate</label>
        <locationX>1029</locationX>
        <locationY>566</locationY>
        <allowBack>true</allowBack>
        <allowFinish>true</allowFinish>
        <allowPause>true</allowPause>
        <backButtonLabel>Cancel</backButtonLabel>
        <connector>
            <targetReference>Initial_Screen</targetReference>
        </connector>
        <fields>
            <name>Confirmation_check</name>
            <fieldText>&lt;p&gt;&lt;strong&gt;﻿&lt;/strong&gt;&lt;span style=&quot;font-size: 14px;&quot;&gt;Would you like to update the pricing factors on the renewal?&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;&lt;strong&gt;Renewal ARR : &lt;/strong&gt;{!renewalOpp.CurrencyIsoCode} {!renewalOpp.ARR__c}&lt;/p&gt;&lt;p&gt;&lt;strong&gt;Applied Cumulative Indexation : &lt;/strong&gt;{!screenCumulativeIndexation}%&lt;/p&gt;&lt;p&gt;&lt;strong&gt;Applied Upcoming Indexation :&lt;/strong&gt; {!ScreenUpcomingIndexation}%&lt;/p&gt;&lt;p&gt;&lt;strong&gt;Applied Price Uplift :&lt;/strong&gt; {!ScreenPriceUplift}%&lt;/p&gt;</fieldText>
            <fieldType>DisplayText</fieldType>
        </fields>
        <nextOrFinishButtonLabel>Update Pricing Factors</nextOrFinishButtonLabel>
        <showFooter>true</showFooter>
        <showHeader>true</showHeader>
    </screens>
    <screens>
        <name>Variable_rate_not_yet_available</name>
        <label>Variable rate not yet available</label>
        <locationX>314</locationX>
        <locationY>1190</locationY>
        <allowBack>false</allowBack>
        <allowFinish>true</allowFinish>
        <allowPause>false</allowPause>
        <fields>
            <name>rates_not_available</name>
            <fieldText>&lt;p&gt;This renewal only starts in the next year (start date: {!renewalOpp.Startdate_contract__c}) . Therefore the variable indexation rate is not yet known. This will become available from 1st of September. Please reach out to finance to ask for an alternative.&lt;/p&gt;</fieldText>
            <fieldType>DisplayText</fieldType>
        </fields>
        <showFooter>true</showFooter>
        <showHeader>true</showHeader>
    </screens>
    <start>
        <locationX>369</locationX>
        <locationY>0</locationY>
        <connector>
            <targetReference>Get_Opportunity</targetReference>
        </connector>
    </start>
    <status>Active</status>
    <variables>
        <name>CurrentIndexationRate</name>
        <dataType>Number</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <scale>2</scale>
    </variables>
    <variables>
        <name>LoopCount</name>
        <dataType>Number</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <scale>0</scale>
    </variables>
    <variables>
        <name>NewRenewalARR</name>
        <dataType>Number</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <scale>8</scale>
    </variables>
    <variables>
        <name>OppIndexationMovements</name>
        <dataType>Currency</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <scale>8</scale>
        <value>
            <numberValue>0.0</numberValue>
        </value>
    </variables>
    <variables>
        <name>recordId</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>true</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>renewalOpp</name>
        <dataType>SObject</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <objectType>Opportunity</objectType>
    </variables>
    <variables>
        <name>renewalOppProducts</name>
        <dataType>SObject</dataType>
        <isCollection>true</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <objectType>OpportunityLineItem</objectType>
    </variables>
    <variables>
        <name>renewalupliftamount</name>
        <dataType>Number</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <scale>2</scale>
    </variables>
    <variables>
        <name>SumofIndexationRates</name>
        <dataType>Number</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <scale>2</scale>
    </variables>
    <variables>
        <name>upcomingindexationamount</name>
        <dataType>Number</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <scale>2</scale>
    </variables>
    <variables>
        <name>updatedRenewalOLI</name>
        <dataType>SObject</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <objectType>OpportunityLineItem</objectType>
    </variables>
    <variables>
        <name>updatedRenewalOLIList</name>
        <dataType>SObject</dataType>
        <isCollection>true</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <objectType>OpportunityLineItem</objectType>
    </variables>
</Flow>
